<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/css-adm/cadastro_comunicado.css">
    <title>Comunicados - Admin</title>
 
</head>

<body>
    <div class="container">
        <h1>ğŸ“¢ Gerenciar Comunicados</h1>

        <!-- Abas -->
        <div class="tabs">
            <button class="tab active" data-aba="enviar">ğŸ“¤ Enviar Comunicado</button>
            <button class="tab" data-aba="gerenciar">ğŸ“‹ Gerenciar Comunicados</button>
        </div>

        <!-- Aba Enviar -->
        <div id="aba-enviar" class="aba-conteudo ativa">
            <form id="formComunicado">
                <input type="hidden" id="comunicadoId" value="">

                <div class="form-group">
                    <label for="titulo">TÃ­tulo do Comunicado:</label>
                    <input type="text" id="titulo" placeholder="Ex: ReuniÃ£o de Pais, Feriado, etc." required>
                </div>

                <div class="form-group">
                    <label for="mensagem">Mensagem:</label>
                    <textarea id="mensagem" placeholder="Digite aqui o conteÃºdo do comunicado..." required maxlength="500"></textarea>
                    <div class="info-text" id="contadorCaracteres">0/500 caracteres</div>
                </div>

                <div class="form-group">
                    <label for="destino">Enviar para:</label>
                    <select id="destino" required>
                        <option value="">Selecione o destino...</option>
                        <option value="todos">ğŸ“¨ Todos os responsÃ¡veis</option>
                        <option value="turma">ğŸ« Turma especÃ­fica</option>
                        <option value="aluno">ğŸ‘¤ Aluno especÃ­fico</option>
                    </select>
                </div>

                <!-- Filtro por turma -->
                <div id="filtroTurma" class="filtro-turma">
                    <label for="turmaSelect">Selecionar Turma:</label>
                    <select id="turmaSelect">
                        <option value="">Selecione a turma...</option>
                        <option value="1A">1Â° Ano A</option>
                        <option value="1B">1Â° Ano B</option>
                        <option value="2A">2Â° Ano A</option>
                        <option value="2B">2Â° Ano B</option>
                        <option value="3A">3Â° Ano A</option>
                        <option value="infantil">Infantil</option>
                    </select>
                </div>

                <!-- Filtro por aluno -->
                <div id="filtroAluno" class="filtro-aluno">
                    <label for="alunoSelect">Selecionar Aluno:</label>
                    <input type="text" id="alunoSelect" placeholder="Digite a matrÃ­cula do aluno">
                    <div class="info-text" id="infoAluno"></div>
                </div>

                <!-- Preview do comunicado -->
                <div id="comunicadoPreview" class="comunicado-preview" style="display: none;">
                    <h4>ğŸ‘€ PrÃ©via do Comunicado:</h4>
                    <div id="previewContent"></div>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-success">ğŸ’¾ Salvar Comunicado</button>
                    <button type="button" class="btn btn-warning" id="btnCancelar" style="display: none;">
                        âŒ Cancelar EdiÃ§Ã£o
                    </button>
                </div>
            </form>
        </div>

        <!-- Aba Gerenciar -->
        <div id="aba-gerenciar" class="aba-conteudo">
            <div class="filtros-container">
                <input type="text" id="buscarComunicado" placeholder="ğŸ” Buscar comunicados..." class="form-group">
                <select id="filtroDestinoLista" class="form-group">
                    <option value="all">Todos os destinos</option>
                    <option value="todos">Todos os responsÃ¡veis</option>
                    <option value="turma">Turmas</option>
                    <option value="aluno">Alunos</option>
                </select>
            </div>

            <div id="listaComunicados" class="comunicados-lista">
                <p>Carregando comunicados...</p>
            </div>
        </div>
    </div>

    <div style="text-align: center; margin-top: 20px;">
        <a href="admin_pagina.html" class="btn btn-secondary">â† Voltar ao Dashboard</a>
    </div>

    <script type="module" src="../js/admin/header-admin.js"></script>
    <script type="module" src="../js/admin/cadastro_comunicados.js"></script>
</body>
</html>